<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>DÃ©</title>
<style>
   html,body{
      height:100%;
      margin:0;
      font-family:system-ui,Segoe UI,Roboto,Arial;
      background:#0b0f19; /* Fond plus sombre */
      color:#e6eef8;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      gap:25px;
   }

   .card{
      width:320px;
      height:320px;
      border-radius:24px;
      background:linear-gradient(145deg,#1c2942,#233552); /* DÃ© plus clair */
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 12px 35px rgba(0,0,0,0.55);
      user-select:none;
      position:relative;
   }

   .dot-grid{
      width:220px;
      height:220px;
      display:grid;
      grid-template-columns:repeat(3,1fr);
      grid-template-rows:repeat(3,1fr);
      gap:18px;
   }

   .dot{
      width:36px;
      height:36px;
      border-radius:50%;
      background:#ffffff;
      opacity:.15;
      transform:scale(.9);
      transition:all .25s ease;
   }
   .dot.on{
      opacity:1;
      transform:scale(1);
   }

   #last{
      position:absolute;
      top:14px;
      left:14px;
      font-size:20px;
      font-weight:700;
      opacity:.18;
   }

   .btn{
      background:#e6eef8;
      color:#0a1424;
      border:0;
      padding:14px 20px;
      border-radius:12px;
      font-weight:700;
      font-size:20px; /* Plus grand */
      cursor:pointer;
      box-shadow:0 4px 12px rgba(0,0,0,0.25);
      transition:transform .15s ease, box-shadow .15s ease;
   }
   .btn:hover{
      transform:scale(1.05);
      box-shadow:0 6px 18px rgba(0,0,0,0.35);
   }
</style>
</head>

<body>

   <div class="card" role="application" aria-label="DÃ© virtuel" tabindex="0">
      <div id="last">â€”</div>
      <div class="dot-grid" id="grid" aria-hidden="true">
         <div class="dot" data-i="0"></div><div class="dot" data-i="1"></div><div class="dot" data-i="2"></div>
         <div class="dot" data-i="3"></div><div class="dot" data-i="4"></div><div class="dot" data-i="5"></div>
         <div class="dot" data-i="6"></div><div class="dot" data-i="7"></div><div class="dot" data-i="8"></div>
      </div>
   </div>

   <button id="rollBtn" class="btn">ðŸŽ² Lancer</button>

<script>
const patterns = {
   1: [4],
   2: [0,8],
   3: [0,4,8],
   4: [0,2,6,8],
   5: [0,2,4,6,8],
   6: [0,2,3,5,6,8]
};

const dots = Array.from(document.querySelectorAll('.dot'));
const lastEl = document.getElementById('last');
const rollBtn = document.getElementById('rollBtn');

function setPattern(n){
   dots.forEach(d=>d.classList.remove('on'));
   (patterns[n] || []).forEach(i => {
      dots.find(x=>x.dataset.i==i).classList.add('on');
   });
   lastEl.textContent = n;
}

function rollOnce(){
   rollBtn.disabled = true;
   let steps = 12;
   const interval = setInterval(()=>{
      const r = Math.floor(Math.random()*6)+1;
      setPattern(r);
      steps--;
      if(steps<=0){
      clearInterval(interval);
      rollBtn.disabled = false;
      }
   }, 80);
}

rollBtn.addEventListener('click', rollOnce);
document.body.addEventListener('keydown', e=>{
   if(e.code==="Space"){
      e.preventDefault();
      rollOnce();
   }
});
document.querySelector('.card').addEventListener('dblclick', rollOnce);

setPattern(1);
</script>

</body>
</html>